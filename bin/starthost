#!/usr/bin/env bash
# Template orgulhosamente criado por (Shell-Base)
#-----------HEADER-----------------------------------------------------------------|
#AUTOR
#  Vovolinux <suporte@vovolinux.com.br>
#
##DATA-DE-CRIAÇÃO
#  20/07/2019 ás 14:30 
#
#PROGRAMA
#  starthost
#
#PEQUENA-DESCRIÇÃO
#  Inicia um serviço de hosting do php
#
#LICENÇA
#  MIT
#
#HOMEPAGE
#  https://vovolinux.com.br 
#
#CHANGELOG
#
#----------------------------------------------------------------------------------|


#--------VÁRIAVEIS--------->
pid=''

#-------------------------->


#--------FUNÇÕES----------->
startphp()
{
    cd /opt/mzphp
    sudo php -S `hostname`:9000&
    sudo php -S `hostname`:9001&
    sudo php -S `hostname`:9002&
    sudo php -S `hostname`:9003&
    sudo php -S `hostname`:9004&
}
getPid()
{
    pid=$(ps -C "php -S `hostname`:9090" | grep php | cut -d' ' -f2)
}


#-------------------------->

#------TESTES-------------->
#-------------------------->


# Programa começa aqui :)
startphp
getPid
echo -e "Servidor iniciado. (PID: ${pid}"
sleep 10s&
exit 0
